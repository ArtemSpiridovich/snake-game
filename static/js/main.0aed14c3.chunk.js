(this.webpackJsonpi_dont_know=this.webpackJsonpi_dont_know||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),l=a(9),i=a.n(l),n=(a(16),a(2)),p=a(4),o=a(5),c=a(7),h=a(6),f=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"updateCanvas",value:function(){var e=this.refs.map.getContext("2d"),t=this.refs.map;t.width=30*this.props.cellSize,t.height=30*this.props.cellSize,e.fillStyle="#ccc",e.fillRect(0,0,t.width,t.height),e.fillStyle="#000",e.fillRect(2*this.props.cellSize,2*this.props.cellSize,26*this.props.cellSize,26*this.props.cellSize);var a,s,r=this.props.cellSize;for(var l=0;l<26;l++)for(var i=0;i<26;i++)switch(this.props.state.field[l][i]){case 1:a=i*this.props.cellSize+2*this.props.cellSize,s=l*this.props.cellSize+2*this.props.cellSize,e.fillStyle="#FFA500",e.fillRect(a,s,r,r),e.fillStyle="#CD8500",e.fillRect(a,s,r,r/8),e.fillRect(a,s+r/2,r,r/8),e.fillRect(a+r/2,s,r/8,r/2),e.fillRect(a+r/8,s+r/2,r/8,r/2),e.fillStyle="#D3D3D3",e.fillRect(a,s+r/2-r/8,r,r/8),e.fillRect(a,s+r-r/8,r,r/8),e.fillRect(a+r/2-r/8,s,r/8,r/2),e.fillRect(a,s+r/2-r/8,r/8,r/2)}}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:"map",class:"map"})}}]),a}(r.a.Component),u=a(10),d=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={currentSide:[e.props.snake[0][0]+16,e.props.snake[0][1]],side:"right",start:0,c:0},e.createApple=function(t,a){var s=Math.floor(Math.random()*(a-t)+t);return Math.round(s/e.props.cellSize)*e.props.cellSize},e.updateCanvas=function(){var t=e.refs.game.getContext("2d"),a=e.refs.game;a.tabIndex=1e3,a.width=24*e.props.cellSize,a.height=24*e.props.cellSize;var s=e.props.cellSize,r=e.props.setSnake;if(0===e.state.start){t.fillStyle="Red";var l=e.createApple(0,23*s),i=e.createApple(0,23*s);e.props.setApple([l,i]),t.arc(l+s/2,i+s/2,s/2,0,2*Math.PI),t.closePath(),t.fill(),e.setState({start:1})}var n=setInterval((function(){a.focus();var l=Object(u.a)(e.props.snake);l.unshift(e.state.currentSide),r(l),e.setState({c:0});var i=0;if(l.forEach((function(t){0!=i?e.props.snake[0][0]===t[0]&&e.props.snake[0][1]===t[1]&&(clearInterval(n),alert("Game over")):i=1})),l[0][0]===e.props.apple[0]&&l[0][1]===e.props.apple[1]){t.clearRect(e.props.apple[0],e.props.apple[1],s,s);var p=e.createApple(0,23*s),o=e.createApple(0,23*s);e.props.setApple([p,o]),t.fillStyle="Red",t.beginPath(),t.arc(e.props.apple[0]+s/2,e.props.apple[1]+s/2,s/2-1,0,2*Math.PI),t.closePath(),t.fill()}else{var c=l.pop();t.clearRect(c[0],c[1],s,s)}for(var h=0;h<l.length;h++){if(e.props.snake[0][0]===24*s||e.props.snake[0][1]===24*s||-16===e.props.snake[0][0]||-16===e.props.snake[0][1]){clearInterval(n),alert("Game over");break}var f=l[h][0],d=l[h][1];t.fillStyle="Green",t.fillRect(f,d,s-1,s-1)}}),100)},e.pressKey=function(t){0===e.state.c&&(37===t.keyCode&&"right"!==e.state.side?e.setState({side:"left",c:1}):38===t.keyCode&&"bottom"!==e.state.side?e.setState({side:"top",c:1}):39===t.keyCode&&"left"!==e.state.side?e.setState({side:"right",c:1}):40===t.keyCode&&"top"!==e.state.side&&e.setState({side:"bottom",c:1}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(e,t){if(e.snake!==this.props.snake)switch(this.state.side){case"right":this.setState({currentSide:[this.props.snake[0][0]+16,this.props.snake[0][1]]});break;case"left":this.setState({currentSide:[this.props.snake[0][0]-16,this.props.snake[0][1]]});break;case"top":this.setState({currentSide:[this.props.snake[0][0],this.props.snake[0][1]-16]});break;case"bottom":this.setState({currentSide:[this.props.snake[0][0],this.props.snake[0][1]+16]})}}},{key:"render",value:function(e){return r.a.createElement("canvas",{ref:"game",class:"game",onKeyDown:this.pressKey,style:{outline:"none"}})}}]),a}(r.a.Component);var S=function(){var e=Object(s.useState)(16),t=Object(n.a)(e,2),a=t[0],l=t[1],i=Object(s.useState)({field:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}),p=Object(n.a)(i,2),o=p[0],c=p[1],h=Object(s.useState)([[64,176],[48,176],[32,176]]),u=Object(n.a)(h,2),S=u[0],v=u[1],k=Object(s.useState)([0,0]),m=Object(n.a)(k,2),b=m[0],y=m[1];return r.a.createElement("div",{class:"app"},r.a.createElement(f,{cellSize:a,state:o,setState:c,setCellSize:l}),r.a.createElement(d,{cellSize:a,snake:S,apple:b,setApple:y,setSnake:v,setCellSize:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.0aed14c3.chunk.js.map